# 测试代码
from jqdatasdk import *
import datetime
auth("admin", "admin")
now1 = datetime.datetime.now()

df = get_all_securities()
for code in df.index:
    df2 = get_price(code)
    print("%s len:%s" % (code, len(df2.index)))

now2 = datetime.datetime.now()
print("use %s" % (now2 - now1))


在外网测试，没有缓存 下载所有的日行情数据（只取一年），需要30分钟
在外网测试，有缓存，下载所有的日行情数据（只取一年），需要0:04:31.426451
在内网测试，有缓存，下载所有的日行情数据（只取一年），需要0:00:23.889343
在投资研究模块测试，有缓存，下载所有的日行情数据（只取一年），需要0:00:08.042788


import rqdatac
import datetime
rqdatac.init("ccbfund","ccbfund123")
df = rqdatac.all_instruments()
df = df[df.type=="CS"]
now1 = datetime.datetime.now()
for code in sorted(df.order_book_id):
    df2 = get_price(code)
    print("%s len:%s" % (code, len(df2.index)))
now2 = datetime.datetime.now()
print("use %s" % (now2 - now1))

